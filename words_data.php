<?php
/**
 * 3-Letter Words Dictionary - Data File
 * Contains an array of all three-letter words with their definitions and example usage
 */

$threeLetterWords = [
    // 常见三字母单词
    [
        'word' => 'act',
        'meaning' => 'To do something or take action.',
        'example' => 'He decided to act quickly when he saw the fire.'
    ],
    [
        'word' => 'add',
        'meaning' => 'To put something with another to increase the number or amount.',
        'example' => 'Add two cups of flour to the mixture.'
    ],
    [
        'word' => 'age',
        'meaning' => 'The length of time that a person has lived or a thing has existed.',
        'example' => 'She lived to the age of ninety-five.'
    ],
    [
        'word' => 'air',
        'meaning' => 'The invisible gaseous substance surrounding the earth, a mixture mainly of oxygen and nitrogen.',
        'example' => 'The fresh mountain air was invigorating.'
    ],
    [
        'word' => 'and',
        'meaning' => 'Used to connect words, phrases, or clauses that have the same grammatical function in a construction.',
        'example' => 'The cat and dog played together.'
    ],
    [
        'word' => 'ant',
        'meaning' => 'A small social insect that lives in organized colonies.',
        'example' => 'The ant carried a crumb back to its nest.'
    ],
    [
        'word' => 'arm',
        'meaning' => 'Each of the two upper limbs of the human body from the shoulder to the hand.',
        'example' => 'She carried the baby in her arms.'
    ],
    [
        'word' => 'art',
        'meaning' => 'The expression or application of human creative skill and imagination.',
        'example' => 'They visited the museum to see the new art exhibition.'
    ],
    [
        'word' => 'ask',
        'meaning' => 'To request information or an answer from someone.',
        'example' => 'I need to ask you about your travel plans.'
    ],
    [
        'word' => 'bad',
        'meaning' => 'Of poor quality or a low standard; not satisfactory or pleasant.',
        'example' => 'The milk had gone bad in the refrigerator.'
    ],
    [
        'word' => 'bag',
        'meaning' => 'A container made of flexible material with an opening at the top, used for carrying things.',
        'example' => 'She packed her lunch in a brown paper bag.'
    ],
    [
        'word' => 'ban',
        'meaning' => 'To officially prohibit something.',
        'example' => 'The city decided to ban smoking in public parks.'
    ],
    [
        'word' => 'bar',
        'meaning' => 'A long rigid piece of wood, metal, or other material; or an establishment where alcoholic drinks are served.',
        'example' => 'The chocolate bar was delicious.'
    ],
    [
        'word' => 'bat',
        'meaning' => 'A small, nocturnal, flying mammal; or an implement with a handle used for hitting a ball.',
        'example' => 'The baseball player swung the bat and hit a home run.'
    ],
    [
        'word' => 'bay',
        'meaning' => 'A broad inlet of the sea where the land curves inward.',
        'example' => 'The ship anchored in the bay.'
    ],
    [
        'word' => 'bed',
        'meaning' => 'A piece of furniture for sleep or rest.',
        'example' => 'She was so tired that she went straight to bed.'
    ],
    [
        'word' => 'bee',
        'meaning' => 'A flying insect that collects nectar and pollen and produces wax and honey.',
        'example' => 'The bee buzzed around the flower collecting pollen.'
    ],
    [
        'word' => 'beg',
        'meaning' => 'To ask for something earnestly or humbly.',
        'example' => 'The child began to beg for a new toy.'
    ],
    [
        'word' => 'bet',
        'meaning' => 'To risk money on the outcome of an event or a competition.',
        'example' => 'He lost the bet when his team didn\'t win.'
    ],
    [
        'word' => 'big',
        'meaning' => 'Of considerable size, extent, or intensity.',
        'example' => 'They live in a big house in the country.'
    ],
    [
        'word' => 'bin',
        'meaning' => 'A container for storing or transporting something.',
        'example' => 'Please put the recyclables in the blue bin.'
    ],
    [
        'word' => 'bit',
        'meaning' => 'A small piece, part, or quantity of something.',
        'example' => 'Would you like a bit of cake?'
    ],
    [
        'word' => 'box',
        'meaning' => 'A container with flat sides, typically square or rectangular, and a lid.',
        'example' => 'She kept her jewelry in a small wooden box.'
    ],
    [
        'word' => 'boy',
        'meaning' => 'A male child or young man.',
        'example' => 'The little boy played in the sandbox.'
    ],
    [
        'word' => 'bug',
        'meaning' => 'A small insect; or an error in a computer program or system.',
        'example' => 'There was a bug in the software that caused it to crash.'
    ],
    [
        'word' => 'bus',
        'meaning' => 'A large motor vehicle carrying passengers by road, typically along a fixed route.',
        'example' => 'She took the bus to work every day.'
    ],
    [
        'word' => 'but',
        'meaning' => 'Used to introduce a phrase or clause contrasting with what has already been mentioned.',
        'example' => 'I would love to go, but I have other plans.'
    ],
    [
        'word' => 'buy',
        'meaning' => 'To obtain something in exchange for money.',
        'example' => 'I need to buy some groceries on the way home.'
    ],
    [
        'word' => 'can',
        'meaning' => 'To be able to; or a cylindrical container.',
        'example' => 'Can you help me with this heavy box?'
    ],
    [
        'word' => 'cap',
        'meaning' => 'A type of soft, flat hat without a brim, or a cover for the end of something.',
        'example' => 'He put on his baseball cap before going outside.'
    ],
    [
        'word' => 'car',
        'meaning' => 'A road vehicle, typically with four wheels, powered by an internal combustion engine.',
        'example' => 'They drove their car to the mountains for vacation.'
    ],
    [
        'word' => 'cat',
        'meaning' => 'A small domesticated carnivorous mammal with soft fur, a short snout, and retractable claws.',
        'example' => 'The cat curled up on the windowsill in the sun.'
    ],
    [
        'word' => 'cop',
        'meaning' => 'A police officer.',
        'example' => 'The cop directed traffic at the busy intersection.'
    ],
    [
        'word' => 'cow',
        'meaning' => 'A fully grown female bovine animal.',
        'example' => 'The cow produced several gallons of milk each day.'
    ],
    [
        'word' => 'cry',
        'meaning' => 'To shed tears, typically as an expression of distress, pain, or sorrow; or to shout or scream.',
        'example' => 'The baby began to cry when it was hungry.'
    ],
    [
        'word' => 'cup',
        'meaning' => 'A small, open container for liquids, typically having a handle.',
        'example' => 'She drank a cup of coffee every morning.'
    ],
    [
        'word' => 'cut',
        'meaning' => 'To make an opening, incision, or wound in something with a sharp-edged tool or object.',
        'example' => 'Use the scissors to cut along the dotted line.'
    ],
    [
        'word' => 'dad',
        'meaning' => 'One\'s father.',
        'example' => 'My dad taught me how to ride a bicycle.'
    ],
    [
        'word' => 'day',
        'meaning' => 'The period of light between sunrise and sunset.',
        'example' => 'It was a sunny day with clear blue skies.'
    ],
    [
        'word' => 'den',
        'meaning' => 'A wild animal\'s lair or habitation; or a room in a house where a person can work or relax.',
        'example' => 'The fox returned to its den with food for its cubs.'
    ],
    [
        'word' => 'did',
        'meaning' => 'Past tense of \'do\'.',
        'example' => 'He did his homework before dinner.'
    ],
    [
        'word' => 'die',
        'meaning' => 'To stop living.',
        'example' => 'Many plants will die if they don\'t get enough water.'
    ],
    [
        'word' => 'dig',
        'meaning' => 'To break up and move earth with a tool or machine, or with hands, paws, snout, etc.',
        'example' => 'They will dig a hole to put in the fence post.'
    ],
    [
        'word' => 'dim',
        'meaning' => 'Not bright or distinct; obscured, unclear, or faint.',
        'example' => 'The lights were dim in the cozy restaurant.'
    ],
    [
        'word' => 'dip',
        'meaning' => 'To put something briefly into a liquid.',
        'example' => 'She liked to dip her cookies in milk.'
    ],
    [
        'word' => 'dog',
        'meaning' => 'A domesticated carnivorous mammal that typically has a long snout, an acute sense of smell, and a barking, howling, or whining voice.',
        'example' => 'The dog wagged its tail when it saw its owner.'
    ],
    [
        'word' => 'ear',
        'meaning' => 'The organ of hearing and balance in humans and other vertebrates.',
        'example' => 'The cat\'s ears perked up at the sound.'
    ],
    [
        'word' => 'eat',
        'meaning' => 'To put food into the mouth and chew and swallow it.',
        'example' => 'They sat down to eat dinner together.'
    ],
    [
        'word' => 'egg',
        'meaning' => 'An oval or round object laid by a female bird, reptile, fish, or invertebrate containing an embryo.',
        'example' => 'The hen laid six eggs.'
    ],
    [
        'word' => 'eye',
        'meaning' => 'The organ of sight, a globe-shaped structure in the face of humans and some animals.',
        'example' => 'He had bright blue eyes and dark hair.'
    ],
    [
        'word' => 'fan',
        'meaning' => 'A device for creating a current of air; or a person who admires and supports a person, sports team, etc.',
        'example' => 'They turned on the fan to cool the room.'
    ],
    [
        'word' => 'fit',
        'meaning' => 'Of a suitable quality, standard, or type to meet the required purpose; or in good physical condition.',
        'example' => 'These shoes fit me perfectly.'
    ],
    [
        'word' => 'fix',
        'meaning' => 'To repair or mend something.',
        'example' => 'He called a plumber to fix the leaking faucet.'
    ],
    [
        'word' => 'fly',
        'meaning' => 'To move through the air using wings; or a two-winged insect.',
        'example' => 'Birds fly south for the winter.'
    ],
    [
        'word' => 'fox',
        'meaning' => 'A carnivorous mammal with a pointed snout and bushy tail, proverbial for its cunning.',
        'example' => 'The fox quickly disappeared into the forest.'
    ],
    [
        'word' => 'fun',
        'meaning' => 'Enjoyment, amusement, or lighthearted pleasure.',
        'example' => 'They had fun playing games at the party.'
    ],
    [
        'word' => 'gap',
        'meaning' => 'A break or hole in an object or between two objects.',
        'example' => 'There was a gap in the fence where the dog escaped.'
    ],
    [
        'word' => 'get',
        'meaning' => 'To come into possession or use of; receive or earn.',
        'example' => 'I need to get some milk from the store.'
    ],
    [
        'word' => 'hat',
        'meaning' => 'A shaped covering for the head worn for warmth, as a fashion item, or as part of a uniform.',
        'example' => 'She wore a wide-brimmed hat to protect her face from the sun.'
    ],
    [
        'word' => 'hit',
        'meaning' => 'To bring one\'s hand or a tool or weapon into contact with someone or something quickly and forcefully.',
        'example' => 'The baseball player hit the ball out of the park.'
    ],
    [
        'word' => 'hot',
        'meaning' => 'Having a high degree of heat or a high temperature.',
        'example' => 'The soup was too hot to eat immediately.'
    ],
    [
        'word' => 'hug',
        'meaning' => 'To squeeze someone tightly in one\'s arms, typically to express affection.',
        'example' => 'She gave her grandmother a warm hug.'
    ],
    [
        'word' => 'ice',
        'meaning' => 'Frozen water, a brittle, transparent crystalline solid.',
        'example' => 'Be careful not to slip on the ice.'
    ],
    [
        'word' => 'ink',
        'meaning' => 'A colored fluid used for writing, drawing, printing, or duplicating.',
        'example' => 'The pen ran out of ink halfway through writing the letter.'
    ],
    [
        'word' => 'jar',
        'meaning' => 'A cylindrical container, typically made of glass, with a wide mouth and no handle.',
        'example' => 'She stored homemade jam in glass jars.'
    ],
    [
        'word' => 'job',
        'meaning' => 'A paid position of regular employment.',
        'example' => 'She got a new job at the hospital.'
    ],
    [
        'word' => 'joy',
        'meaning' => 'A feeling of great pleasure and happiness.',
        'example' => 'The birth of their child brought them great joy.'
    ],
    [
        'word' => 'key',
        'meaning' => 'A small piece of shaped metal with incisions cut to fit the wards of a particular lock; or crucial, essential.',
        'example' => 'He forgot his house key and was locked out.'
    ],
    [
        'word' => 'leg',
        'meaning' => 'Each of the limbs on which a person or animal walks and stands.',
        'example' => 'The table had four wooden legs.'
    ],
    [
        'word' => 'let',
        'meaning' => 'To allow or permit.',
        'example' => 'Let me help you with those heavy bags.'
    ],
    [
        'word' => 'lip',
        'meaning' => 'Either of the two fleshy parts that form the edges of the mouth.',
        'example' => 'She applied red lipstick to her lips.'
    ],
    [
        'word' => 'log',
        'meaning' => 'A part of the trunk or a large branch of a tree that has fallen or been cut off; or an official record of events.',
        'example' => 'They sat on a log by the campfire.'
    ],
    [
        'word' => 'lot',
        'meaning' => 'A large number or amount; or a plot of land.',
        'example' => 'They spent a lot of time preparing for the examination.'
    ],
    [
        'word' => 'low',
        'meaning' => 'In a position below the normal height; not high.',
        'example' => 'The sun was low in the sky at the end of the day.'
    ],
    [
        'word' => 'map',
        'meaning' => 'A diagrammatic representation of an area of land or sea showing physical features, cities, roads, etc.',
        'example' => 'They consulted the map to find their way to the museum.'
    ],
    [
        'word' => 'men',
        'meaning' => 'Plural of \'man\'.',
        'example' => 'The men worked together to build the shed.'
    ],
    [
        'word' => 'mix',
        'meaning' => 'To combine or put together to form one substance or mass.',
        'example' => 'She had to mix the ingredients thoroughly to make the cake.'
    ],
    [
        'word' => 'mom',
        'meaning' => 'One\'s mother.',
        'example' => 'My mom made cookies for dessert.'
    ],
    [
        'word' => 'mud',
        'meaning' => 'Soft, sticky matter resulting from the mixing of earth and water.',
        'example' => 'After the rain, there was mud everywhere.'
    ],
    [
        'word' => 'nap',
        'meaning' => 'A short sleep, especially during the day.',
        'example' => 'He took a nap after lunch.'
    ],
    [
        'word' => 'net',
        'meaning' => 'Material made of threads or cords that are looped, knotted, or woven together at regular intervals.',
        'example' => 'The fisherman cast his net into the water.'
    ],
    [
        'word' => 'new',
        'meaning' => 'Not existing before; made, introduced, or discovered recently or now for the first time.',
        'example' => 'She bought a new car last week.'
    ],
    [
        'word' => 'now',
        'meaning' => 'At the present time or moment.',
        'example' => 'I need to leave now.'
    ],
    [
        'word' => 'nut',
        'meaning' => 'A fruit consisting of a hard or tough shell around an edible kernel.',
        'example' => 'The squirrel collected nuts for the winter.'
    ],
    [
        'word' => 'off',
        'meaning' => 'Away from; not on or attached to.',
        'example' => 'He took his jacket off because it was hot.'
    ],
    [
        'word' => 'oil',
        'meaning' => 'A viscous liquid derived from petroleum, used as fuel or lubricant.',
        'example' => 'The car needed oil.'
    ],
    [
        'word' => 'old',
        'meaning' => 'Having lived for a long time; no longer young.',
        'example' => 'The old man sat on a bench in the park.'
    ],
    [
        'word' => 'one',
        'meaning' => 'The lowest cardinal number; single unit or thing.',
        'example' => 'Only one person showed up for the meeting.'
    ],
    [
        'word' => 'out',
        'meaning' => 'Not inside; in the open air.',
        'example' => 'The children played out in the yard.'
    ],
    [
        'word' => 'own',
        'meaning' => 'Belonging to oneself or itself.',
        'example' => 'She has her own car.'
    ],
    [
        'word' => 'pen',
        'meaning' => 'An instrument for writing or drawing with ink.',
        'example' => 'He signed the document with a blue pen.'
    ],
    [
        'word' => 'pet',
        'meaning' => 'A domestic or tamed animal kept for companionship or pleasure.',
        'example' => 'Their pet cat loved to sleep on the couch.'
    ],
    [
        'word' => 'pie',
        'meaning' => 'A baked dish consisting of a filling over a pastry base with a pastry top.',
        'example' => 'She made an apple pie for dessert.'
    ],
    [
        'word' => 'pig',
        'meaning' => 'An omnivorous domesticated hoofed mammal with sparse bristly hair and a flat snout.',
        'example' => 'The pig rolled in the mud to keep cool.'
    ],
    [
        'word' => 'pin',
        'meaning' => 'A thin, pointed piece of metal or wood used to fasten things together.',
        'example' => 'She used a pin to attach the badge to her shirt.'
    ],
    [
        'word' => 'put',
        'meaning' => 'To move or cause to move into a specified location or position.',
        'example' => 'Put your coat on the hook.'
    ],
    [
        'word' => 'red',
        'meaning' => 'The color of blood, fire, or rubies.',
        'example' => 'She wore a red dress to the party.'
    ],
    [
        'word' => 'run',
        'meaning' => 'To move at a speed faster than a walk, never having both feet on the ground at the same time.',
        'example' => 'She runs five miles every morning before work.'
    ],
    [
        'word' => 'sad',
        'meaning' => 'Feeling or showing sorrow; unhappy.',
        'example' => 'The ending of the movie was sad.'
    ],
    [
        'word' => 'see',
        'meaning' => 'To perceive with the eyes.',
        'example' => 'Can you see the bird in that tree?'
    ],
    [
        'word' => 'set',
        'meaning' => 'To put, lay, or stand in a specified place or position; or a group or collection of things that belong together.',
        'example' => 'She set the book on the table.'
    ],
    [
        'word' => 'sit',
        'meaning' => 'To adopt or be in a position in which one\'s weight is supported by one\'s buttocks rather than one\'s feet.',
        'example' => 'The students sit in rows facing the teacher.'
    ],
    [
        'word' => 'six',
        'meaning' => 'The number 6.',
        'example' => 'The clock struck six.'
    ],
    [
        'word' => 'sky',
        'meaning' => 'The region of the atmosphere and outer space seen from the earth.',
        'example' => 'The sky was clear and blue.'
    ],
    [
        'word' => 'son',
        'meaning' => 'A male child or descendant.',
        'example' => 'Their son is studying medicine at university.'
    ],
    [
        'word' => 'sun',
        'meaning' => 'The star around which the earth orbits.',
        'example' => 'The sun set behind the mountains.'
    ],
    [
        'word' => 'ten',
        'meaning' => 'The number 10.',
        'example' => 'Ten people can sit around this table.'
    ],
    [
        'word' => 'the',
        'meaning' => 'Denoting one or more people or things already mentioned or assumed to be common knowledge.',
        'example' => 'The book is on the table.'
    ],
    [
        'word' => 'tie',
        'meaning' => 'To fasten or secure with a cord, rope, or other fastening; or a piece of clothing worn around the neck.',
        'example' => 'He learned to tie his shoelaces when he was five.'
    ],
    [
        'word' => 'top',
        'meaning' => 'The highest or uppermost point, part, or surface of something.',
        'example' => 'They reached the top of the mountain after hours of climbing.'
    ],
    [
        'word' => 'toy',
        'meaning' => 'An object for a child to play with.',
        'example' => 'The child\'s favorite toy was a teddy bear.'
    ],
    [
        'word' => 'try',
        'meaning' => 'To make an attempt or effort to do something.',
        'example' => 'I\'ll try to finish the report by tomorrow.'
    ],
    [
        'word' => 'two',
        'meaning' => 'The number 2.',
        'example' => 'They have two children.'
    ],
    [
        'word' => 'use',
        'meaning' => 'To take, hold, or deploy as a means of accomplishing something or achieving some purpose.',
        'example' => 'Can I use your phone?'
    ],
    [
        'word' => 'war',
        'meaning' => 'A state of armed conflict between different nations or states or different groups within a nation or state.',
        'example' => 'The war lasted for six years.'
    ],
    [
        'word' => 'way',
        'meaning' => 'A method, style, or manner of doing something; or a road, track, or path.',
        'example' => 'That\'s not the right way to solve the problem.'
    ],
    [
        'word' => 'who',
        'meaning' => 'What or which person or people.',
        'example' => 'Who left the door open?'
    ],
    [
        'word' => 'win',
        'meaning' => 'To be successful or victorious in a contest or conflict.',
        'example' => 'Her team won the championship.'
    ],
    [
        'word' => 'yes',
        'meaning' => 'Used to give an affirmative response.',
        'example' => 'Yes, I agree with your proposal.'
    ],
    [
        'word' => 'yet',
        'meaning' => 'Up until now or a specified time; still; or nevertheless.',
        'example' => 'I haven\'t finished my homework yet.'
    ],
    [
        'word' => 'you',
        'meaning' => 'Used to refer to the person or people that the speaker is addressing.',
        'example' => 'You should take an umbrella, it might rain.'
    ],
    [
        'word' => 'zoo',
        'meaning' => 'An establishment which maintains a collection of wild animals, typically in a park or gardens, for study, conservation, or display to the public.',
        'example' => 'They took the children to the zoo to see the lions and elephants.'
    ],
    // 罕见三字母单词
    [
        'word' => 'aba',
        'meaning' => 'A garment of camel or goat hair; camel or goat-hair fabric.',
        'example' => 'The desert nomad wore an aba to protect from the harsh sun.'
    ],
    [
        'word' => 'abb',
        'meaning' => 'Yarn used for warp.',
        'example' => 'The weaver carefully arranged the abb on the loom.'
    ],
    [
        'word' => 'aby',
        'meaning' => 'To make amends; atone; pay a penalty.',
        'example' => 'He must aby for his mistakes.'
    ],
    [
        'word' => 'ait',
        'meaning' => 'Small island in lake or river.',
        'example' => 'The birds nested on the small ait in the middle of the stream.'
    ],
    [
        'word' => 'ala',
        'meaning' => 'Membranous outgrowth on a plant or animal.',
        'example' => 'The insect\'s ala helped it glide between branches.'
    ],
    [
        'word' => 'alb',
        'meaning' => 'Long white robe worn by priests.',
        'example' => 'The priest donned his alb before the ceremony.'
    ],
    [
        'word' => 'alk',
        'meaning' => 'Sap or resin from turpentine trees.',
        'example' => 'They collected alk to use in traditional remedies.'
    ],
    [
        'word' => 'alt',
        'meaning' => 'High musical tone.',
        'example' => 'The singer hit the alt note perfectly.'
    ],
    [
        'word' => 'ama',
        'meaning' => 'A Japanese pearl-diver.',
        'example' => 'The ama held her breath for nearly two minutes while searching for pearls.'
    ],
    [
        'word' => 'ana',
        'meaning' => 'In equal quantities.',
        'example' => 'The pharmacist mixed the ingredients ana according to the prescription.'
    ],
    [
        'word' => 'ard',
        'meaning' => 'Plough used to scratch top surface of soil.',
        'example' => 'The farmer used an ard to prepare the field for planting.'
    ],
    [
        'word' => 'awn',
        'meaning' => 'Beard or similar bristly growth on stalk of grain.',
        'example' => 'The wheat\'s awn glistened in the morning dew.'
    ]
];

/**
 * Enhanced helper function to get words filtered by position and letter
 *
 * @param array $words Array of word data
 * @param int $position Position to filter by (1, 2, or 3)
 * @param string $letter The letter to filter by
 * @return array Filtered array of words
 */
function getWordsByPositionLetter($words, $position, $letter) {
    $filtered = [];

    foreach ($words as $word) {
        // Position is 1-based in the UI but 0-based in the code
        $pos = $position - 1;

        // Skip if word is too short
        if (strlen($word['word']) <= $pos) {
            continue;
        }

        if (strtolower($word['word'][$pos]) === strtolower($letter)) {
            $filtered[] = $word;
        }
    }

    return $filtered;
}

/**
 * Original function to get words by first letter (kept for backward compatibility)
 *
 * @param array $words Array of word data
 * @param string $letter The starting letter to filter by
 * @return array Filtered array of words
 */
function getWordsByLetter($words, $letter) {
    return getWordsByPositionLetter($words, 1, $letter);
}

/**
 * Helper function to get a specific word by its name
 *
 * @param array $words Array of word data
 * @param string $wordName The word to find
 * @return array|null The word data or null if not found
 */
function getWordByName($words, $wordName) {
    foreach ($words as $word) {
        if (strtolower($word['word']) === strtolower($wordName)) {
            return $word;
        }
    }

    return null;
}

/**
 * Helper function to get related words based on various criteria
 *
 * @param array $words Array of word data
 * @param string $currentWord The current word
 * @param int $position Which letter position to match (1, 2, or 3)
 * @param int $limit Maximum number of related words to return
 * @return array Array of related words
 */
function getRelatedWords($words, $currentWord, $position = 1, $limit = 5) {
    // Position is 1-based in the UI but 0-based in the code
    $pos = $position - 1;

    // Skip if word is too short
    if (strlen($currentWord) <= $pos) {
        return [];
    }

    $targetLetter = strtolower($currentWord[$pos]);
    $related = [];
    $count = 0;

    foreach ($words as $word) {
        // Skip words that are too short
        if (strlen($word['word']) <= $pos) {
            continue;
        }

        // Match words with the same letter at the specified position
        if (strtolower($word['word'][$pos]) === $targetLetter &&
            strtolower($word['word']) !== strtolower($currentWord)) {
            $related[] = $word;
            $count++;

            if ($count >= $limit) {
                break;
            }
        }
    }

    return $related;
}

/**
 * Get statistics about the words in the dictionary
 *
 * @param array $words Array of word data
 * @return array Statistics about the words
 */
function getWordStats($words) {
    $stats = [
        'total' => count($words),
        'byFirstLetter' => [],
        'bySecondLetter' => [],
        'byThirdLetter' => []
    ];

    // Initialize letter counts
    foreach (range('a', 'z') as $letter) {
        $stats['byFirstLetter'][$letter] = 0;
        $stats['bySecondLetter'][$letter] = 0;
        $stats['byThirdLetter'][$letter] = 0;
    }

    // Count words by letter position
    foreach ($words as $word) {
        $wordLower = strtolower($word['word']);

        if (isset($wordLower[0])) {
            $stats['byFirstLetter'][$wordLower[0]]++;
        }

        if (isset($wordLower[1])) {
            $stats['bySecondLetter'][$wordLower[1]]++;
        }

        if (isset($wordLower[2])) {
            $stats['byThirdLetter'][$wordLower[2]]++;
        }
    }

    return $stats;
}
